{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      \n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        // Fulfill\n        resolve({position, delay});\n      } else {\n        // Reject\n        reject({position, delay});\n      }\n    }, delay);\n  });\n}\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  const { delay, step, amount } = event.currentTarget.elements;\n\n  if (delay.value < 0 || step.value < 0 || amount.value < 0) {\n    iziToast.show({\n      title: 'Warning',\n      message: `❗ Please enter a positive number`,\n      position: 'topCenter',\n      color: 'yellow',\n    });\n    return;\n  }\n\n  for (let position = 0; position < amount.value; position++) {\n    const delays = Number(delay.value) + step.value * position;\n\n    createPromise(position, delays)\n      .then(({ position, delay }) => {\n        iziToast.show({\n          title: 'Success',\n          message: `✅ Fulfilled promise ${position + 1} in ${delay}ms`,\n          position: 'topCenter',\n          color: 'green',\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.show({\n          title: 'Error',\n          message: `❌ Rejected promise ${position + 1} in ${delay}ms`,\n          position: 'topCenter',\n          color: 'red',\n        });\n      });\n  }\n\n  event.currentTarget.reset();\n}"],"names":["form","onSubmitForm","createPromise","position","delay","resolve","reject","event","step","amount","iziToast","delays"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASC,EAAcC,EAAUC,EAAO,CACtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CAEO,KAAK,OAAM,EAAK,GAIpCD,EAAQ,CAAC,SAAAF,EAAU,MAAAC,CAAK,CAAC,EAGzBE,EAAO,CAAC,SAAAH,EAAU,MAAAC,CAAK,CAAC,CAE3B,EAAEA,CAAK,CACZ,CAAG,CACH,CAEA,SAASH,EAAaM,EAAO,CAC3BA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAH,EAAO,KAAAI,EAAM,OAAAC,CAAQ,EAAGF,EAAM,cAAc,SAEpD,GAAIH,EAAM,MAAQ,GAAKI,EAAK,MAAQ,GAAKC,EAAO,MAAQ,EAAG,CACzDC,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,mCACT,SAAU,YACV,MAAO,QACb,CAAK,EACD,MACD,CAED,QAASP,EAAW,EAAGA,EAAWM,EAAO,MAAON,IAAY,CAC1D,MAAMQ,EAAS,OAAOP,EAAM,KAAK,EAAII,EAAK,MAAQL,EAElDD,EAAcC,EAAUQ,CAAM,EAC3B,KAAK,CAAC,CAAE,SAAAR,EAAU,MAAAC,KAAY,CAC7BM,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,uBAAuBP,EAAW,CAAC,OAAOC,CAAK,KACxD,SAAU,YACV,MAAO,OACjB,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAC9BM,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,sBAAsBP,EAAW,CAAC,OAAOC,CAAK,KACvD,SAAU,YACV,MAAO,KACjB,CAAS,CACT,CAAO,CACJ,CAEDG,EAAM,cAAc,OACtB"}